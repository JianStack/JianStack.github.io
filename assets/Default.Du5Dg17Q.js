import{p as I,b as n,d as L,N as q,O as l,a3 as C,P as u,R as v,S as a,V as r,F as D,W as o,a2 as V,L as B,C as F}from"./framework.CGpsDzRo.js";const P={key:0,class:"notice-bar"},$={class:"notice-content"},E={key:0},b={key:1},R={class:"city"},T={class:"greeting"},j={class:"distance"},A={class:"distance"},K={class:"ip"},O=I({__name:"NoticeBar",setup(x){const d=n(""),f=n(""),g=n(""),h=n(""),m=n(""),y=n(!0),_=n(""),M=n(!0),k=async s=>{const e=await(await fetch(`https://wcode.net/api/ip/v3/info/free?ip=${s}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer sk-773.5kUNDp8IGDOE9wEK1WOAPe32fN9aLln7eeeYVgHktvVTdweI"}})).json();return e.status==="success"&&e.data.extra_info.latitude&&e.data.extra_info.longitude?{lat:parseFloat(e.data.extra_info.latitude),lng:parseFloat(e.data.extra_info.longitude)}:(console.error("Failed to get city coordinates:",e),{lat:0,lng:0})};L(async()=>{try{const t=await(await fetch("https://ipapi.co/json")).json();d.value=t.ip,f.value=`${t.country_name} ${t.region} ${t.city}`||"æœªçŸ¥åœ°åŒº";const i=await k(t.ip);if(i.lat===0&&i.lng===0)throw new Error("æ— æ³•è·å–æœ‰æ•ˆçš„ç»çº¬åº¦ä¿¡æ¯");const e={lat:113.047264,lng:34.765588};g.value=w(e,i).toFixed(2);const p={lat:113.047264,lng:34.765588};h.value=w(p,i).toFixed(2);const c=new Date().getHours();m.value=c<12?"æ—©ä¸Šå¥½ï¼Œç¾å¥½çš„ä¸€å¤©åˆå¼€å§‹äº†ğŸ˜":c<18?"ä¸‹åˆå¥½ï¼Œç´¯äº†å°±å¥½å¥½ä¼‘æ¯ä¸€ä¸‹å§ğŸ¶":"æ™šä¸Šå¥½ï¼Œåœ¨å±äºè‡ªå·±çš„æ—¶é—´é‡Œå¥½å¥½æ”¾æ¾å§ğŸ˜¶â€ğŸŒ«ï¸"}catch(s){_.value="æ— æ³•åŠ è½½å…¬å‘Šä¿¡æ¯ï¼Œè¯·ç¨åé‡è¯•ã€‚åˆ·æ–°åå¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·é€šè¿‡2521896282@qq.comè”ç³»æˆ‘",console.error("Error:",s)}finally{y.value=!1}});function w(s,t){const e=(t.lat-s.lat)*Math.PI/180,p=(t.lng-s.lng)*Math.PI/180,c=Math.sin(e/2)*Math.sin(e/2)+Math.cos(s.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(p/2)*Math.sin(p/2);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}function N(){M.value=!1}return(s,t)=>(l(),q(V,{name:"slide"},{default:C(()=>[M.value?(l(),u("div",P,[a("div",$,[a("button",{class:"close-button",onClick:N},"Ã—"),t[8]||(t[8]=a("h3",null,"å…¬å‘Š",-1)),y.value?(l(),u("p",E,"åŠ è½½ä¸­...")):_.value?(l(),u("p",b,r(_.value),1)):(l(),u(D,{key:2},[t[6]||(t[6]=a("p",null,[o("æ¬¢è¿æ¥åˆ°JiAnçš„åšå®¢ï¼æœ‰ä»»ä½•é—®é¢˜è¯·è”ç³»é‚®ç®±: "),a("a",{href:"mailto:2521896282@qq.com"},"2521896282@qq.com")],-1)),t[7]||(t[7]=a("p",null,"ğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰",-1)),a("p",null,[t[0]||(t[0]=o("â€ƒâ€ƒæ¬¢è¿æ¥è‡ª ",-1)),a("span",R,r(f.value),1),t[1]||(t[1]=o(" çš„å°ä¼™ä¼´ï¼Œ",-1)),a("span",T,r(m.value),1),t[2]||(t[2]=o("ï¼æ‚¨ç°åœ¨è·ç¦»ç«™é•¿çº¦ ",-1)),a("span",j,r(g.value),1),t[3]||(t[3]=o(" å…¬é‡Œï¼Œè·ç¦»åšå®¢æœåŠ¡å™¨çº¦ ",-1)),a("span",A,r(h.value),1),t[4]||(t[4]=o(" å…¬é‡Œã€‚å½“å‰çš„IPåœ°å€ä¸ºï¼š ",-1)),a("span",K,r(d.value),1),t[5]||(t[5]=o("ï¼Œç¥æ‚¨åœ¨æˆ‘çš„åšå®¢é‡Œç©çš„å¼€å¿ƒï¼",-1))])],64))])])):v("v-if",!0)]),_:1}))}}),G=B(O,[["__scopeId","data-v-436c26f8"]]),H={class:"app"},z={__name:"Default",setup(x){return(d,f)=>(l(),u("div",H,[v(" å…¶ä»–å†…å®¹ï¼ˆå¦‚å¯¼èˆªæ ã€ä¸»å†…å®¹ï¼‰ "),F(G),v(" æ·»åŠ å…¬å‘Šæ ç»„ä»¶ ")]))}};export{z as default};
